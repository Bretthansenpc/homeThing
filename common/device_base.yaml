logger:
  level: INFO

wifi:
  ssid: !secret wifi_ssid
  password: !secret wifi_password
  fast_connect: true
  id: wifi_id
  ap:
    ssid: "${friendly_name} Fallback"
    password: !secret wifi_fallback_password

api:
  id: homeassistant_api_id
  services:
    - service: goto_screen
      variables:
        screen_name: string
      then:
      - lambda: |-
          id(homeThingMenu)->goToScreenFromString(screen_name);

ota:

http_request:
  useragent: esphome/device
  timeout: 10s

time:
  - platform: homeassistant
    id: esptime
    on_time_sync:
      then:
        component.update: my_display

packages:
  binary_sensor: !include binary_sensor.yaml
  switch: !include switch.yaml
  light: !include light.yaml
  text_sensor: !include text_sensor.yaml
  media_player: !include media_player.yaml
  external_components: !include external_components.yaml

homeassistant_switch_group:
  id: switch_group_component
  switches:
    - id: "oven_fan_switch"


homeassistant_sensor_group:
  id: sensor_group_component
  sensors:
    - id: sensor_weather
    - id: sensor_temperature
    - id: sensor_washing_machine
    - id: sensor_plant_moisture
    - id: sensor_kitchen_air

homeassistant_light_group:
  id: light_group_component
  lights:
    - id: light_bathroom_lights
    - id: light_bedroom_lights
    - id: light_kitchen_lights
    - id: light_living_room_lights
    - id: light_office_lamp

homeassistant_media_player:
  id: media_group_component
  media_players:
    - id: media_player_beam
      type: sonos
    - id: media_player_tv
      type: roku

homeassistant_service_group:
  id: service_group_component
  commands:
    - text: "desk down"
      command:
        - lambda: |-
            ESP_LOGI("homeassistant_service_group", "down");
        - homeassistant.service:
            service: script.set_desk_height
            data:
              height: "low"
    - text: "desk up"
      command:
        - lambda: |-
            ESP_LOGI("homeassistant_service_group", "up");
        - homeassistant.service:
            service: script.set_desk_height
            data:
              height: "high"
    - text: "desk nudge up"
      command:
        - lambda: |-
            ESP_LOGI("homeassistant_service_group", "nudge up");
        - homeassistant.service:
            service: button.press
            data:
              entity_id: "button.desk_position_nudge_up"
    - text: "desk nudge down"
      command:
        - lambda: |-
            ESP_LOGI("homeassistant_service_group", "nudge down");
        - homeassistant.service:
            service: button.press
            data:
              entity_id: "button.desk_position_nudge_down"
